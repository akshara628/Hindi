<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡§π‡§ø‡§®‡•ç‡§¶‡•Ä ‡§∏‡§Ç‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§µ‡•ç‡§Ø‡§Ç‡§ú‡§® + ‡§∏‡•ç‡§µ‡§∞ ‡§Ö‡§≠‡•ç‡§Ø‡§æ‡§∏</title>
<style>
  body {
    font-family: "Noto Sans Devanagari", "Mangal", Arial, sans-serif;
    background-color: #fffaf2;
    color: #222;
    padding: 20px;
  }
  h1 {
    text-align: center;
    color: #d12f2f;
  }
  p {
    text-align: center;
    font-size: 1.1em;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
  }
  th, td {
    border: 1px solid #ccc;
    text-align: center;
    padding: 8px;
    font-size: 1.2em;
    vertical-align: middle;
  }
  th {
    background-color: #ffe4b5;
  }
  td {
    background-color: #fff8dc;
  }
  td span {
    cursor: pointer;
    color: #c21807;
    font-weight: bold;
    display: block;
  }
  td .roman {
    font-size: 0.8em;
    color: green;
  }
  td span:hover {
    color: #ff6600;
    text-decoration: underline;
  }
</style>
</head>
<body>

<h1>‡§π‡§ø‡§®‡•ç‡§¶‡•Ä ‡§∏‡§Ç‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§µ‡•ç‡§Ø‡§Ç‡§ú‡§® + ‡§∏‡•ç‡§µ‡§∞ ‡§§‡§æ‡§≤‡§ø‡§ï‡§æ</h1>
<p>‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§Ö‡§ï‡•ç‡§∑‡§∞ ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§â‡§∏‡§ï‡§æ ‡§â‡§ö‡•ç‡§ö‡§æ‡§∞‡§£ ‡§∏‡•Å‡§®‡•á‡§Ç üîä</p>

<table id="blendTable">
  <tr>
    <th>‡§∏‡§Ç‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§µ‡•ç‡§Ø‡§Ç‡§ú‡§®</th>
    <th>+ ‡§Ö</th>
    <th>+ ‡§Ü</th>
    <th>+ ‡§á</th>
    <th>+ ‡§à</th>
    <th>+ ‡§â</th>
    <th>+ ‡§ä</th>
    <th>+ ‡§è</th>
    <th>+ ‡§ê</th>
    <th>+ ‡§ì</th>
    <th>+ ‡§î</th>
  </tr>
</table>

<script>
const vowels = ["‡§Ö","‡§Ü","‡§á","‡§à","‡§â","‡§ä","‡§è","‡§ê","‡§ì","‡§î"];
const vowelMarks = ["","‡§æ","‡§ø","‡•Ä","‡•Å","‡•Ç","‡•á","‡•à","‡•ã","‡•å"];
const romanVowels = ["a","aa","i","ee","u","oo","e","ai","o","au"];

const blends = [
  ["‡§ï‡•ç‡§∞","kr"], ["‡§ó‡•ç‡§∞","gr"], ["‡§™‡•ç‡§∞","pr"], ["‡§¨‡•ç‡§∞","br"], ["‡§§‡•ç‡§∞","tr"],
  ["‡§¶‡•ç‡§∞","dr"], ["‡§´‡•ç‡§∞","fr"], ["‡§´‡•ç‡§≤","fl"], ["‡§¨‡•ç‡§≤","bl"], ["‡§ó‡•ç‡§≤","gl"],
  ["‡§™‡•ç‡§≤","pl"], ["‡§ï‡•ç‡§≤","kl"], ["‡§∏‡•ç‡§∞","sr"], ["‡§∂‡•ç‡§∞","shra"], ["‡§∏‡•ç‡§•","stha"],
  ["‡§∏‡•ç‡§™","spa"], ["‡§∏‡•ç‡§§","sta"], ["‡§∏‡•ç‡§ï","ska"], ["‡§∏‡•ç‡§ï‡•ç‡§∞","skra"], ["‡§∏‡•ç‡§ü‡•ç‡§∞","stra"],
  ["‡§∏‡•ç‡§µ","swa"], ["‡§∏‡•ç‡§Æ","sma"], ["‡§∏‡•ç‡§®","sna"], ["‡§ß‡•ç‡§∞","dhra"], ["‡§•‡•ç‡§∞","thra"],
  ["‡§õ‡•ç‡§∞","chra"], ["‡§ï‡•ç‡§∑","ksha"], ["‡§ú‡•ç‡§û","gya"], ["‡§≠‡•ç‡§∞","bhra"], ["‡§π‡•ç‡§∞","hra"]
];

// --- BUILD TABLE ---
const table = document.getElementById("blendTable");

blends.forEach(([blend, translit]) => {
  const row = document.createElement("tr");
  const first = document.createElement("td");
  first.innerHTML = `<b>${blend}</b><div class='roman'>(${translit})</div>`;
  row.appendChild(first);

  vowels.forEach((vowel, i) => {
    const td = document.createElement("td");
    const combo = blend + vowelMarks[i];
    const romanCombo = translit + romanVowels[i];
    const span = document.createElement("span");
    span.textContent = combo;
    span.onclick = () => speakHindi(combo);
    const small = document.createElement("div");
    small.className = "roman";
    small.textContent = romanCombo;
    td.appendChild(span);
    td.appendChild(small);
    row.appendChild(td);
  });

  table.appendChild(row);
});

// --- FIXED HINDI VOICE FUNCTION ---
function speakHindi(text) {
  // Cancel any ongoing speech safely
  window.speechSynthesis.cancel();

  // Delay ensures voices are loaded properly and queue resets
  setTimeout(() => {
    const utter = new SpeechSynthesisUtterance(text);
    utter.lang = "hi-IN";
    utter.rate = 0.9;
    utter.pitch = 1.0;
    window.speechSynthesis.speak(utter);
  }, 150);
}
</script>

</body>
</html>
